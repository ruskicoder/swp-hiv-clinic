import{e as o,r as i,j as e,L as v,d as h}from"./index-ottAEAuo.js";/* empty css                      */const g=()=>{const{userId:s}=o(),[a,x]=i.useState(null),[l,j]=i.useState([]),[m,n]=i.useState(!0),[d,c]=i.useState("");return i.useEffect(()=>{(async()=>{n(!0),c("");try{const[r,p]=await Promise.all([h.get(`/manager/patients/${s}/profile`),h.get(`/manager/patients/${s}/records`)]);x(r.data),j(p.data)}catch{c("Không thể tải thông tin chi tiết bệnh nhân.")}finally{n(!1)}})()},[s]),m?e.jsx("div",{children:"Đang tải thông tin..."}):d?e.jsx("div",{style:{color:"red"},children:d}):a?e.jsxs("div",{className:"patient-detail-container",children:[e.jsxs(v,{to:"/manager",className:"patient-detail-back",children:[e.jsx("span",{style:{fontSize:20,marginRight:8},children:"←"})," Quay lại danh sách"]}),e.jsx("div",{className:"patient-detail-card",children:e.jsxs("div",{className:"patient-detail-flex",children:[e.jsxs("div",{className:"patient-detail-avatar",children:[a.profileImageBase64?e.jsx("img",{src:a.profileImageBase64,alt:"Ảnh bệnh nhân",className:"patient-detail-avatar-img"}):e.jsx("div",{className:"patient-detail-avatar-placeholder",children:e.jsx("span",{children:"?"})}),e.jsx("div",{className:"patient-detail-username",children:a.username||"-"})]}),e.jsxs("div",{className:"patient-detail-info",children:[e.jsx("h2",{className:"patient-detail-title",children:"Thông tin hồ sơ bệnh nhân"}),e.jsxs("div",{className:"patient-detail-grid",children:[e.jsxs("div",{children:[e.jsx("div",{className:"patient-detail-label",children:"Họ tên"}),e.jsxs("div",{className:"patient-detail-value",children:[a.firstName||""," ",a.lastName||""]})]}),e.jsxs("div",{children:[e.jsx("div",{className:"patient-detail-label",children:"Email"}),e.jsx("div",{className:"patient-detail-value",children:a.email||"-"})]}),e.jsxs("div",{children:[e.jsx("div",{className:"patient-detail-label",children:"Ngày sinh"}),e.jsx("div",{className:"patient-detail-value",children:a.dateOfBirth||"-"})]}),e.jsxs("div",{children:[e.jsx("div",{className:"patient-detail-label",children:"Giới tính"}),e.jsx("div",{className:"patient-detail-value",children:a.gender||"-"})]}),e.jsxs("div",{children:[e.jsx("div",{className:"patient-detail-label",children:"Số điện thoại"}),e.jsx("div",{className:"patient-detail-value",children:a.phoneNumber||"-"})]}),e.jsxs("div",{children:[e.jsx("div",{className:"patient-detail-label",children:"Địa chỉ"}),e.jsx("div",{className:"patient-detail-value",children:a.address||"-"})]}),e.jsxs("div",{children:[e.jsx("div",{className:"patient-detail-label",children:"Trạng thái"}),e.jsx("div",{className:"patient-detail-value",children:a.isActive===!0?e.jsx("span",{className:"patient-detail-status-active",children:"Active"}):a.isActive===!1?e.jsx("span",{className:"patient-detail-status-inactive",children:"Inactive"}):"-"})]})]})]})]})}),e.jsxs("div",{className:"patient-detail-records-card",children:[e.jsx("h3",{className:"patient-detail-records-title",children:"Lịch sử hồ sơ bệnh án"}),l.length===0?e.jsx("div",{className:"patient-detail-records-empty",children:"Không có hồ sơ bệnh án."}):e.jsx("div",{className:"patient-detail-table-wrapper",children:e.jsxs("table",{className:"patient-detail-table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"ID"}),e.jsx("th",{children:"Ngày tạo"}),e.jsx("th",{children:"Chẩn đoán"}),e.jsx("th",{children:"Điều trị"}),e.jsx("th",{children:"Ghi chú"})]})}),e.jsx("tbody",{children:l.map(t=>e.jsxs("tr",{children:[e.jsx("td",{children:t.recordId||t.recordID}),e.jsx("td",{children:t.createdAt?new Date(t.createdAt).toLocaleString():"-"}),e.jsx("td",{children:t.diagnosis||t.medicalHistory||"-"}),e.jsx("td",{children:t.treatment||t.currentMedications||"-"}),e.jsx("td",{children:t.notes||"-"})]},t.recordId||t.recordID))})]})})]})]}):e.jsx("div",{children:"Không tìm thấy hồ sơ bệnh nhân."})};export{g as default};
