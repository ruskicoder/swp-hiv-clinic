import{u as a}from"./jsx-runtime-BDYu3_Il-DCzcSSQv.js";function d(){return a("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"-11.5 -10.23174 23 20.46348",children:[a("title",{children:"React Logo"}),a("circle",{cx:"0",cy:"0",r:"2.05",fill:"currentColor"}),a("g",{stroke:"currentColor","stroke-width":"1",fill:"none",children:[a("ellipse",{rx:"11",ry:"4.2"}),a("ellipse",{rx:"11",ry:"4.2",transform:"rotate(60)"}),a("ellipse",{rx:"11",ry:"4.2",transform:"rotate(120)"})]})]})}const f=0,h=1,g=5;function u(n){var e,i;if(!n)return null;const r=[],c=3,s=Object.keys(n).find(o=>o.startsWith("__reactFiber$")||o.startsWith("__reactInternalInstance$"));if(!s)return null;let t=n[s];if(!t)return null;for(;t&&r.length<c;){let o=null;if(t.tag===h||t.tag===f){const l=t.type;l&&(o={name:l.displayName||l.name||((e=t._debugOwner)==null?void 0:e.name)||"AnonymousComponent",type:"regular"})}else t.tag===g&&t._debugOwner&&((i=t._debugOwner.env)!=null&&i.toLowerCase().includes("server"))&&(o={name:t._debugOwner.name,type:"rsc"});o&&(r.some(m=>m.name===o.name&&m.type===o.type)||r.push(o)),t=t.return}return r.length>0?r:null}function p(n){const e=u(n);return e?.[0]?{annotation:`${e[0].name}${e[0].type==="rsc"?" (RSC)":""}`}:{annotation:null}}function y(n){const e=n.map(i=>u(i));return e.some(i=>i.length>0)?`This is additional information on the elements that the user selected. Use this information to find the correct element in the codebase.

  ${e.map((r,c)=>`
<element index="${c+1}">
  ${r.length===0?"No React component as parent detected":`React component tree (from closest to farthest, 3 closest elements): ${r.map(s=>`{name: ${s.name}, type: ${s.type}}`).join(" child of ")}`}
</element>
    `)}
  `:null}const C={displayName:"React",description:"This toolbar adds additional information and metadata for apps using React as a UI framework",iconSvg:a(d,{}),pluginName:"react",onContextElementHover:p,onContextElementSelect:p,onPromptSend:n=>{const e=y(n.contextElements);return e?{contextSnippets:[{promptContextName:"elements-react-component-info",content:e}]}:{contextSnippets:[]}}};export{C as ReactPlugin};
