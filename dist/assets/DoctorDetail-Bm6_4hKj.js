import{e as f,r as s,j as e,L as y,d as l}from"./index-ottAEAuo.js";/* empty css                      */const T=()=>{const{userId:i}=f(),[a,o]=s.useState(null),[d,m]=s.useState([]),[n,p]=s.useState([]),[r,v]=s.useState([]),[N,c]=s.useState(!0),[h,x]=s.useState("");return s.useEffect(()=>{(async()=>{c(!0),x("");try{const[j,u,g,b]=await Promise.all([l.get(`/manager/doctors/${i}/profile`),l.get(`/manager/doctors/${i}/arv-treatments`),l.get(`/manager/doctors/${i}/appointments`),l.get(`/manager/doctors/${i}/slots`)]);o(j.data),m(u.data),p(g.data),v(b.data)}catch{x("Không thể tải thông tin chi tiết bác sĩ.")}finally{c(!1)}})()},[i]),N?e.jsx("div",{children:"Đang tải thông tin..."}):h?e.jsx("div",{style:{color:"red"},children:h}):a?e.jsxs("div",{className:"patient-detail-container",children:[e.jsxs(y,{to:"/manager",className:"patient-detail-back",children:[e.jsx("span",{style:{fontSize:20,marginRight:8},children:"←"})," Quay lại danh sách"]}),e.jsx("div",{className:"patient-detail-card",children:e.jsxs("div",{className:"patient-detail-flex",children:[e.jsxs("div",{className:"patient-detail-avatar",children:[a.profileImageBase64?e.jsx("img",{src:`data:image/jpeg;base64,${a.profileImageBase64}`,alt:"avatar",className:"patient-detail-avatar-img"}):e.jsx("div",{className:"patient-detail-avatar-placeholder",children:e.jsx("span",{children:"BS"})}),e.jsx("div",{className:"patient-detail-username",children:a.username})]}),e.jsxs("div",{className:"patient-detail-info",children:[e.jsx("h2",{className:"patient-detail-title",children:"Thông tin bác sĩ"}),e.jsxs("div",{className:"patient-detail-grid",children:[e.jsxs("div",{children:[e.jsx("div",{className:"patient-detail-label",children:"Họ tên"}),e.jsxs("div",{className:"patient-detail-value",children:[a.firstName," ",a.lastName]})]}),e.jsxs("div",{children:[e.jsx("div",{className:"patient-detail-label",children:"Email"}),e.jsx("div",{className:"patient-detail-value",children:a.email})]}),e.jsxs("div",{children:[e.jsx("div",{className:"patient-detail-label",children:"Chuyên khoa"}),e.jsx("div",{className:"patient-detail-value",children:a.specialty||"-"})]}),e.jsxs("div",{children:[e.jsx("div",{className:"patient-detail-label",children:"Số điện thoại"}),e.jsx("div",{className:"patient-detail-value",children:a.phoneNumber||"-"})]}),e.jsxs("div",{children:[e.jsx("div",{className:"patient-detail-label",children:"Trạng thái"}),e.jsx("div",{className:"patient-detail-value",children:a.isActive===!0?e.jsx("span",{className:"patient-detail-status-active",children:"Active"}):a.isActive===!1?e.jsx("span",{className:"patient-detail-status-inactive",children:"Inactive"}):"-"})]})]})]})]})}),e.jsxs("div",{className:"patient-detail-records-card",children:[e.jsx("h3",{className:"patient-detail-records-title",children:"Phác đồ ARV do bác sĩ tạo"}),d.length===0?e.jsx("div",{className:"patient-detail-records-empty",children:"Không có phác đồ ARV."}):e.jsx("div",{className:"patient-detail-table-wrapper",children:e.jsxs("table",{className:"patient-detail-table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"ID"}),e.jsx("th",{children:"Bệnh nhân"}),e.jsx("th",{children:"Phác đồ"}),e.jsx("th",{children:"Ngày bắt đầu"}),e.jsx("th",{children:"Ngày kết thúc"}),e.jsx("th",{children:"Ghi chú"}),e.jsx("th",{children:"Loại"})]})}),e.jsx("tbody",{children:d.map(t=>e.jsxs("tr",{children:[e.jsx("td",{children:t.arvTreatmentId}),e.jsx("td",{children:t.patientName||"-"}),e.jsx("td",{children:t.regimen||"-"}),e.jsx("td",{children:t.startDate||"-"}),e.jsx("td",{children:t.endDate||"-"}),e.jsx("td",{children:t.notes||"-"}),e.jsx("td",{children:t.notes==="default template"?"Default":t.notes==="template"?"Template":"Custom"})]},t.arvTreatmentId))})]})})]}),e.jsxs("div",{className:"patient-detail-records-card",children:[e.jsx("h3",{className:"patient-detail-records-title",children:"Appointments"}),n.length===0?e.jsx("div",{className:"patient-detail-records-empty",children:"Không có appointment."}):e.jsx("div",{className:"patient-detail-table-wrapper",children:e.jsxs("table",{className:"patient-detail-table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"ID"}),e.jsx("th",{children:"Bệnh nhân"}),e.jsx("th",{children:"Thời gian"}),e.jsx("th",{children:"Trạng thái"}),e.jsx("th",{children:"Ghi chú"})]})}),e.jsx("tbody",{children:n.map(t=>e.jsxs("tr",{children:[e.jsx("td",{children:t.appointmentId}),e.jsx("td",{children:t.patientName||"-"}),e.jsx("td",{children:t.dateTime||"-"}),e.jsx("td",{children:t.status||"-"}),e.jsx("td",{children:t.notes||"-"})]},t.appointmentId))})]})})]}),e.jsxs("div",{className:"patient-detail-records-card",children:[e.jsx("h3",{className:"patient-detail-records-title",children:"Doctor Availability Slots"}),r.length===0?e.jsx("div",{className:"patient-detail-records-empty",children:"Không có slot nào."}):e.jsx("div",{className:"patient-detail-table-wrapper",children:e.jsxs("table",{className:"patient-detail-table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"ID"}),e.jsx("th",{children:"Ngày"}),e.jsx("th",{children:"Giờ bắt đầu"}),e.jsx("th",{children:"Giờ kết thúc"}),e.jsx("th",{children:"Trạng thái"}),e.jsx("th",{children:"Booked By (Name)"}),e.jsx("th",{children:"Username"}),e.jsx("th",{children:"Email"})]})}),e.jsx("tbody",{children:r.map(t=>e.jsxs("tr",{children:[e.jsx("td",{children:t.slotId}),e.jsx("td",{children:t.date||"-"}),e.jsx("td",{children:t.startTime||"-"}),e.jsx("td",{children:t.endTime||"-"}),e.jsx("td",{children:t.status||"-"}),e.jsx("td",{children:t.status==="Booked"&&t.bookedByName||"-"}),e.jsx("td",{children:t.status==="Booked"&&t.bookedByUsername||"-"}),e.jsx("td",{children:t.status==="Booked"&&t.bookedByEmail||"-"})]},t.slotId))})]})})]})]}):e.jsx("div",{children:"Không tìm thấy hồ sơ bác sĩ."})};export{T as default};
